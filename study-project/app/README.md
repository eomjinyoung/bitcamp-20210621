# 03-a. 메서드 사용법 : 프로그램의 시작점(entry point), `main()`

`main()` 메서드는 자바 프로그램의 시작점(entry point)이다.
다음과 같이 JVM으로 클래스를 실행하면 그 클래스에 정의된 `main()` 메서드를 찾아 명령어를 실행한다.

```console
$ java -cp bin/main com.eomcs.pms.App
```

`main()` 메서드가 없는 클래스는 JVM이 바로 실행할 수 없다.

보통 자바 프로그램은 여러 개의 클래스로 구성되고, 그 중 한 개의 클래스에 `main()` 메서드를 둔다.
자바 프로그램을 실행할 때는 바로 이 `main()` 메서드가 있는 클래스를 실행하는 것이다.
나머지 클래스들은 `main()` 메서드의 실행 흐름에 따라 호출된다.

이번 훈련에서는 `App` 클래스 하나만 실행 클래스로 만들 것이다.
*프로젝트(App2.java)* 와 *작업(App3.java)* 데이터를 다루는 코드는 `App` 클래스에 합칠 것이다.
한 클래스에서 회원과 프로젝트, 작업 데이터를 다뤄야 하기 때문에
사용자가 입력한 명령어에 따라 해당 기능을 수행하도록 변경할 것이다.

```
명령> /member/add
... <== 회원 등록 처리

명령> /member/list
... <== 회원 목록 조회 처리

명령> /project/add
... <== 프로젝트 등록 처리

명령> /project/list
... <== 프로젝트 목록 조회 처리

명령> /task/add
... <== 작업 등록 처리

명령> /task/list
... <== 작업 목록 조회 처리

```

## 훈련 목표

- 클래스 실행과 `main()` 메서드의 관계를 이해한다.
- 조건문, 반복문, 블록, 배열 등의 활용을 연습한다.

## 훈련 내용

- 사용자가 입력한 명령에 따라 작업을 분기하여 처리한다.
- 회원, 프로젝트, 작업을 한 번에 다룰 수 있도록 한 클래스에 합친다.

## 실습

### 1단계 - 명령 프롬프트를 출력한다

- 기존 코드는 주석으로 막아 놓는다.
- 사용자에게 명령어 입력을 요구하는 프롬프트를 출력한다.

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_a.java

### 2단계 - 명령어를 입력 받아 출력한다

- 사용자가 입력한 명령어를 그대로 출력한다.

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_b.java

### 3단계 - 명령어를 입력 받는 것을 반복한다

- 명령어를 입력 받는 것을 무한으로 반복한다.
- 단, 명령어가 'exit'나 'quit'이면 반복을 종료한다.

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_c.java

### 4단계 - `/member/add`, `/member/list` 명령을 구분한다

- 회원 등록 명령('/member/add') 이나 회원 목록 조회 명령('/member/list')을 구분한다.
- 그 외에는 명령어가 올바르지 않다는 오류 메시지를 띄운다.

```console
명령> /member/list
[회원 목록]
명령> /member/add
[회원 등록]
명령> /project/add
실행할 수 없는 명령입니다.
명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_d.java

### 5단계 - `/member/add` 명령을 처리한다

- 주석으로 막은 코드를 가져와서 '회원 등록' 명령을 처리한다.

```console
명령> /member/list
[회원 목록]
명령> /member/add
[회원 등록]
번호? 100
이름? 홍길동
이메일? hong@test.com
암호? 1111
사진? hong.jpg
전화? 010-1111-2222
명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_e.java

### 6단계 - `/member/list` 명령을 처리한다

- 주석으로 막은 코드를 가져와서 '회원 목록 조회' 명령을 처리한다.

```console
명령> /member/add
[회원 등록]
번호? 100
이름? 홍길동
이메일? hong@test.com
암호? 1111
사진? hong.jpg
전화? 010-1111-0001

명령> /member/add
[회원 등록]
번호? 101
이름? 임꺽정
이메일? leem@test.com
암호? 1111
사진? leem.jpg
전화? 010-1111-0002

명령> /member/add
[회원 등록]
번호? 102
이름? 유관순
이메일? yoo@test.com
암호? 1111
사진? yoo@test.com
전화? 010-1111-0003

명령> /member/list
[회원 목록]
100, 홍길동, hong@test.com, 010-1111-0001, 2020-07-26
101, 임꺽정, leem@test.com, 010-1111-0002, 2020-07-26
102, 유관순, yoo@test.com, 010-1111-0003, 2020-07-26

명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_f.java

### 7단계 - `/project/add` 명령을 처리한다

- App2 클래스에서 코드를 가져와서 '프로젝트 등록' 명령을 처리한다.
- 회원과 관련된 변수와 프로젝트와 관련된 변수를 구분하기 위해 변수명을 변경한다.

```console
명령> /project/add
[프로젝트 등록]
번호? 11
프로젝트명? 미니 프로젝트 관리 시스템
내용? 소규모 팀에서 사용하기 편한 프로젝트 관리 시스템
시작일? 2020-1-1
종료일? 2020-2-2
만든이? hong
팀원? leem,park,kim

명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_g.java

### 8단계 - `/project/list` 명령을 처리한다

- App2 클래스에서 코드를 가져와서 '프로젝트 목록 조회' 명령을 처리한다.

```console
명령> /project/add
프로젝트 등록!
번호? 11
프로젝트명? 프로젝트1
내용? 내용입니다.
시작일? 2020-1-1
종료일? 2020-2-2
만든이? hong
팀원? a,b

명령> /project/add
프로젝트 등록!
번호? 12
프로젝트명? 프로젝트2
내용? 내용입니다.
시작일? 2020-1-15
종료일? 2020-2-15
만든이? leem
팀원? x,y

명령> /project/list
[프로젝트 목록]
11, 프로젝트1, 2020-01-01, 2020-02-02, hong
12, 프로젝트2, 2020-01-15, 2020-02-15, leem

명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - App2.java 에서 프로젝트 목록 조회와 관련된 코드를 가져온다.
  - 백업: App_h.java

### 9단계 - `/task/add` 명령을 처리한다

- App3 클래스에서 코드를 가져와서 '작업 등록' 명령을 처리한다.
- 기존 변수와 작업과 관련된 변수를 구분하기 위해 변수명을 변경한다.

```console
명령> /task/add
[작업 등록]
번호? 100
내용? 작업입니다.
마감일? 2020-2-2
상태?
0: 신규
1: 진행중
2: 완료
> 2
담당자? hong

명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경
  - 백업: App_i.java

### 10단계 - `/task/list` 명령을 처리한다

- App3 클래스에서 코드를 가져와서 '작업 목록 조회' 명령을 처리한다.

```console
명령> /task/add
[작업 등록]
번호? 100
내용? 작업1 입니다.
마감일? 2020-2-2
상태?
0: 신규
1: 진행중
2: 완료
> 1
담당자? hong

명령> /task/add
[작업 등록]
번호? 101
내용? 작업2 입니다.
마감일? 2020-2-15
상태?
0: 신규
1: 진행중
2: 완료
> 2
담당자? kim

명령> /task/add
[작업 등록]
번호? 103
내용? 작업3 입니다.
마감일? 2020-3-3
상태?
0: 신규
1: 진행중
2: 완료
> 0
담당자? park

명령> /task/list
[작업 목록]
100, 작업1 입니다., 2020-02-02, hong, 진행중
101, 작업2 입니다., 2020-02-15, kim, 완료
103, 작업3 입니다., 2020-03-03, park, 신규

명령> exit
안녕!
```

#### 작업 파일

- com.eomcs.pms.App 클래스 변경

## 실습 결과

- src/main/java/com/eomcs/pms/App.java 변경
- src/main/java/com/eomcs/pms/App2.java 삭제
- src/main/java/com/eomcs/pms/App3.java 삭제
